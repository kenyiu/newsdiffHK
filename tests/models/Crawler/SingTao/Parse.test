<?php

class TestCase_Crawler_SingTao_Parse_20141217a163245 extends UnitTestCase
{

    function __construct()
    {
        $this->label = 'Crawler_SingTao::parse (20141217a163245.html)';
    }

    function testParse()
    {
        $content = file_get_contents(__DIR__ . '/data/20141217a163245.html');
        $result = Crawler_SingTao::parse(Crawler::prepareContent($content));
        $reference = json_decode(file_get_contents(__DIR__ . '/data/20141217a163245.json'));

        $this->assertEqual(
          $result->title,
          $reference->title,
          'Parsed Page Title'
        );
        $this->assertEqual(
          $result->body,
          $reference->body,
          'Parsed Page Body'
        );
    }

}

class TestCase_Crawler_SingTao_Parse_20141217b152123 extends UnitTestCase
{

    function __construct()
    {
        $this->label = 'Crawler_SingTao::parse (20141217b152123.html)';
    }

    function testParse()
    {
        $content = file_get_contents(__DIR__ . '/data/20141217b152123.html');
        $result = Crawler_SingTao::parse(Crawler::prepareContent($content));
        $reference = json_decode(file_get_contents(__DIR__ . '/data/20141217b152123.json'));

        $this->assertEqual(
          $result->title,
          $reference->title,
          'Parsed Page Title'
        );
        $this->assertEqual(
          $result->body,
          $reference->body,
          'Parsed Page Body'
        );
    }

}


class TestCase_Crawler_SingTao_Parse_20141217d185509 extends UnitTestCase
{

    function __construct()
    {
        $this->label = 'Crawler_SingTao::parse (20141217d185509.html)';
    }

    function testParse()
    {
        $content = file_get_contents(__DIR__ . '/data/20141217d185509.html');
        //$result = Crawler_SingTao::parse(Crawler::prepareContent($content));
        $result = NewsRaw->getInfo($content, 'http://std.stheadline.com/breakingnews/20141217d185509.asp');
        $reference = json_decode(file_get_contents(__DIR__ . '/data/20141217d185509.json'));

        $this->assertEqual(
          $result->title,
          $reference->title,
          'Parsed Page Title'
        );
        $this->assertEqual(
          $result->body,
          $reference->body,
          'Parsed Page Body'
        );
    }

}